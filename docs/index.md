# 权衡的艺术

## 命令式和声明式

- 命令式

比如 jQuery，特点之一是关注过程

```javascript
$("#app") // 获取div
  .text("hello world") // 设置文本内容
  .on("click", () => {
    // 绑定点击事件
    alert("ok");
  });
```

- 声明式

比如 Vue，特点之一是关注结果

```vue
<div @click="() => alert('ok')">hello world</div>
```

## 性能与可维护性的权衡

**结论：声明式代码的性能不优于命令式代码的性能**

直接修改的性能消耗定义为 A，找出差异的性能消耗定义为 B

- 命令式代码的更新性能消耗为 A
- 声明式代码的更新性能消耗为 B + A

因此最理想的情况是，找出差异的性能消耗为 0 时，声明式代码与命令式代码的性能相同，但是无法做到超越。毕竟**框架本身就是封装了命令式代码才实现了面向用户的声明式**。

## 虚拟 DOM 的性能到底如何


